{"openapi":"3.0.0","paths":{"/health":{"get":{"operationId":"HealthController_checkHealth","parameters":[],"responses":{"200":{"description":""}},"tags":["Health"]}},"/api/health/seed":{"post":{"operationId":"HealthController_runSeed","parameters":[],"responses":{"201":{"description":""}},"tags":["Health"]}},"/api/contratadas":{"post":{"description":"Cria uma nova empresa contratada no sistema","operationId":"ContratadaController_criarContratada","parameters":[],"responses":{"201":{"description":"Contratada criada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string","example":"Empresa Contratada LTDA"},"cnpj":{"type":"string","example":"12345678000190"},"cnpjFormatado":{"type":"string","example":"12.345.678/0001-90"},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"400":{"description":"Dados inválidos"},"409":{"description":"CNPJ já cadastrado"}},"security":[{"bearer":[]}],"summary":"Criar nova contratada","tags":["contratadas"]},"get":{"description":"Lista todas as contratadas com filtros opcionais","operationId":"ContratadaController_listarContratadas","parameters":[{"name":"cnpj","required":false,"in":"query","description":"Filtrar por CNPJ","schema":{"type":"string"}},{"name":"nome","required":false,"in":"query","description":"Filtrar por nome","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de contratadas","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"contratadas":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cnpj":{"type":"string"},"cnpjFormatado":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}},"total":{"type":"number"}}}}}}}}},"security":[{"bearer":[]}],"summary":"Listar contratadas","tags":["contratadas"]}},"/api/contratadas/estatisticas":{"get":{"description":"Retorna estatísticas gerais das contratadas e colaboradores vinculados","operationId":"ContratadaController_obterEstatisticas","parameters":[],"responses":{"200":{"description":"Estatísticas das contratadas","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"total":{"type":"number"},"colaboradoresVinculados":{"type":"number"},"colaboradoresSemContratada":{"type":"number"},"topContratadas":{"type":"array","items":{"type":"object","properties":{"contratada":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cnpjFormatado":{"type":"string"}}},"totalColaboradores":{"type":"number"}}}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Obter estatísticas das contratadas","tags":["contratadas"]}},"/api/contratadas/buscar":{"get":{"description":"Busca contratadas por nome (limitado a 10 resultados)","operationId":"ContratadaController_buscarPorNome","parameters":[{"name":"nome","required":true,"in":"query","description":"Nome para busca","schema":{"type":"string"}}],"responses":{"200":{"description":"Resultados da busca","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cnpj":{"type":"string"},"cnpjFormatado":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Buscar contratadas por nome","tags":["contratadas"]}},"/api/contratadas/{id}":{"get":{"description":"Retorna os dados de uma contratada específica","operationId":"ContratadaController_obterContratada","parameters":[{"name":"id","required":true,"in":"path","description":"ID da contratada","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Dados da contratada","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cnpj":{"type":"string"},"cnpjFormatado":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"404":{"description":"Contratada não encontrada"}},"security":[{"bearer":[]}],"summary":"Obter contratada por ID","tags":["contratadas"]},"put":{"description":"Atualiza os dados de uma contratada existente","operationId":"ContratadaController_atualizarContratada","parameters":[{"name":"id","required":true,"in":"path","description":"ID da contratada","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Contratada atualizada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cnpj":{"type":"string"},"cnpjFormatado":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"400":{"description":"Dados inválidos"},"404":{"description":"Contratada não encontrada"},"409":{"description":"CNPJ já cadastrado"}},"security":[{"bearer":[]}],"summary":"Atualizar contratada","tags":["contratadas"]},"delete":{"description":"Exclui uma contratada do sistema (apenas se não houver colaboradores vinculados)","operationId":"ContratadaController_excluirContratada","parameters":[{"name":"id","required":true,"in":"path","description":"ID da contratada","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Contratada excluída com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Contratada excluída com sucesso"}}}}}},"400":{"description":"Não é possível excluir contratada com colaboradores vinculados"},"404":{"description":"Contratada não encontrada"}},"security":[{"bearer":[]}],"summary":"Excluir contratada","tags":["contratadas"]}},"/api/estoque/posicao":{"get":{"description":"Gera relatório detalhado da posição atual do estoque com filtros opcionais","operationId":"EstoqueController_obterPosicaoEstoque","parameters":[{"name":"apenasAbaixoMinimo","required":false,"in":"query","description":"Mostrar apenas itens abaixo do estoque mínimo","schema":{"type":"boolean"}},{"name":"apenasComSaldo","required":false,"in":"query","description":"Mostrar apenas itens com saldo","schema":{"type":"boolean"}},{"name":"unidadeNegocioId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"tipoEpiId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Relatório gerado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"itens":{"type":"array"},"resumo":{"type":"object"},"dataGeracao":{"type":"string","format":"date-time"}}}}}}}}},"security":[{"bearer":[]}],"summary":"Relatório de posição de estoque","tags":["estoque"]}},"/api/estoque/kardex/{almoxarifadoId}/{tipoEpiId}":{"get":{"description":"Retorna o kardex (histórico de movimentações) de um item específico","operationId":"EstoqueController_obterKardex","parameters":[{"name":"almoxarifadoId","required":true,"in":"path","description":"ID do almoxarifado (UUID ou ID customizado)","schema":{"type":"string"}},{"name":"tipoEpiId","required":true,"in":"path","description":"ID do tipo de EPI (UUID ou ID customizado)","schema":{"type":"string"}},{"name":"dataFim","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","schema":{"format":"date","type":"string"}}],"responses":{"200":{"description":"Kardex obtido com sucesso"}},"security":[{"bearer":[]}],"summary":"Obter kardex de item","tags":["estoque"]}},"/api/estoque/analise-giro":{"get":{"description":"Analisa o giro de estoque por período para identificar itens com movimentação rápida ou lenta","operationId":"EstoqueController_obterAnaliseGiro","parameters":[{"name":"periodo","required":false,"in":"query","schema":{"enum":["MENSAL","TRIMESTRAL","SEMESTRAL","ANUAL"],"type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Análise de giro obtida com sucesso"}},"security":[{"bearer":[]}],"summary":"Análise de giro de estoque","tags":["estoque"]}},"/api/estoque/ajuste-direto":{"post":{"description":"Executa um ajuste direto na quantidade de um item específico","operationId":"EstoqueController_realizarAjusteDirecto","parameters":[],"responses":{"201":{"description":"Ajuste realizado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"movimentacaoId":{"type":"string","format":"uuid"},"tipoEpiId":{"type":"string","format":"uuid"},"saldoAnterior":{"type":"number"},"saldoPosterior":{"type":"number"},"diferenca":{"type":"number"},"observacoes":{"type":"string"}}}}}}}},"400":{"description":"Dados inválidos ou permissão negada"},"404":{"description":"Almoxarifado ou tipo de EPI não encontrado"}},"security":[{"bearer":[]}],"summary":"Realizar ajuste direto de estoque","tags":["estoque"]}},"/api/estoque/ajuste-direto/simular":{"post":{"description":"Simula um ajuste de estoque para visualizar o impacto antes da execução","operationId":"EstoqueController_simularAjuste","parameters":[],"responses":{"200":{"description":"Simulação realizada com sucesso"}},"security":[{"bearer":[]}],"summary":"Simular ajuste de estoque","tags":["estoque"]}},"/api/estoque/inventario":{"post":{"description":"Processa múltiplos ajustes de inventário baseados na contagem física","operationId":"EstoqueController_executarInventario","parameters":[],"responses":{"201":{"description":"Inventário processado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"ajustesRealizados":{"type":"array"},"totalItensProcessados":{"type":"number"},"totalAjustesPositivos":{"type":"number"},"totalAjustesNegativos":{"type":"number"},"valorTotalAjustes":{"type":"number"}}}}}}}},"400":{"description":"Dados inválidos ou permissão negada"}},"security":[{"bearer":[]}],"summary":"Executar inventário completo","tags":["estoque"]}},"/api/estoque/inventario/validar-divergencias":{"post":{"description":"Compara contagens de inventário com saldos do sistema e identifica divergências","operationId":"EstoqueController_validarDivergenciasInventario","parameters":[],"responses":{"200":{"description":"Validação realizada com sucesso"}},"security":[{"bearer":[]}],"summary":"Validar divergências de inventário","tags":["estoque"]}},"/api/estoque/ajustes/historico":{"get":{"description":"Lista o histórico de ajustes realizados com filtros opcionais","operationId":"EstoqueController_obterHistoricoAjustes","parameters":[{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}},{"name":"dataFim","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"tipoEpiId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Histórico obtido com sucesso"}},"security":[{"bearer":[]}],"summary":"Histórico de ajustes de estoque","tags":["estoque"]}},"/api/estoque/resumo":{"get":{"description":"Retorna indicadores e métricas gerais do estoque","operationId":"EstoqueController_obterResumoEstoque","parameters":[{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"unidadeNegocioId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Resumo obtido com sucesso"}},"security":[{"bearer":[]}],"summary":"Resumo geral do estoque","tags":["estoque"]}},"/api/estoque/alertas":{"get":{"description":"Lista itens que requerem atenção (estoque baixo, crítico ou zerado)","operationId":"EstoqueController_obterAlertasEstoque","parameters":[{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"unidadeNegocioId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"severidade","required":false,"in":"query","schema":{"enum":["BAIXO","CRITICO","ZERO"],"type":"string"}}],"responses":{"200":{"description":"Alertas obtidos com sucesso"}},"security":[{"bearer":[]}],"summary":"Alertas de estoque","tags":["estoque"]}},"/api/estoque/itens":{"get":{"description":"Lista itens de estoque com filtros opcionais e paginação","operationId":"EstoqueController_listarEstoqueItens","parameters":[{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 50, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}},{"name":"apenasComSaldo","required":false,"in":"query","description":"Apenas itens com saldo > 0","schema":{"type":"boolean"}},{"name":"apenasDisponiveis","required":false,"in":"query","description":"Apenas itens disponíveis","schema":{"type":"boolean"}},{"name":"tipoEpiId","required":false,"in":"query","description":"Filtrar por tipo de EPI","schema":{"format":"uuid","type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","description":"Filtrar por almoxarifado","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Lista de itens de estoque","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"items":{"type":"array"},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Listar itens de estoque","tags":["estoque"]}},"/api/estoque/almoxarifados":{"get":{"description":"Lista almoxarifados com filtros opcionais","operationId":"EstoqueController_listarAlmoxarifados","parameters":[{"name":"incluirContadores","required":false,"in":"query","description":"Incluir contagem de itens","schema":{"type":"boolean"}},{"name":"unidadeNegocioId","required":false,"in":"query","description":"Filtrar por unidade de negócio","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Lista de almoxarifados","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"isPrincipal":{"type":"boolean"},"unidadeNegocioId":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"unidadeNegocio":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"codigo":{"type":"string"}}},"_count":{"type":"object","properties":{"estoqueItens":{"type":"number"}}}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Listar almoxarifados","tags":["estoque"]}},"/api/notas-movimentacao":{"post":{"description":"Cria uma nova nota de movimentação no status RASCUNHO para posterior adição de itens","operationId":"NotasMovimentacaoController_criarNota","parameters":[],"responses":{"201":{"description":"Nota criada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"numero":{"type":"string","example":"ENT-2024-000001"},"tipo":{"type":"string","enum":["ENTRADA","TRANSFERENCIA","DESCARTE","AJUSTE"]},"status":{"type":"string","example":"RASCUNHO"}}}}}}}},"400":{"description":"Dados inválidos"},"404":{"description":"Almoxarifado não encontrado"}},"security":[{"bearer":[]}],"summary":"Criar nova nota de movimentação em rascunho","tags":["notas-movimentacao"]},"get":{"description":"Lista notas com filtros opcionais e paginação","operationId":"NotasMovimentacaoController_listarNotas","parameters":[{"name":"dataFim","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"status","required":false,"in":"query","schema":{"enum":["RASCUNHO","CONCLUIDA","CANCELADA"],"type":"string"}},{"name":"tipo","required":false,"in":"query","schema":{"enum":["ENTRADA","TRANSFERENCIA","DESCARTE","AJUSTE"],"type":"string"}},{"name":"numero","required":false,"in":"query","description":"Filtrar por número da nota","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}}],"responses":{"200":{"description":"Lista de notas recuperada com sucesso"}},"security":[{"bearer":[]}],"summary":"Listar notas de movimentação","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/resumo":{"get":{"description":"Lista notas com informações resumidas para exibição em tabelas","operationId":"NotasMovimentacaoController_obterResumoNotas","parameters":[{"name":"dataFim","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"usuarioId","required":false,"in":"query","description":"ID do usuário responsável","schema":{"type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","description":"ID do almoxarifado (origem ou destino)","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"enum":["RASCUNHO","CONCLUIDA","CANCELADA"],"type":"string"}},{"name":"tipo","required":false,"in":"query","schema":{"enum":["ENTRADA","TRANSFERENCIA","DESCARTE","AJUSTE"],"type":"string"}},{"name":"numero","required":false,"in":"query","description":"Filtrar por número da nota","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}}],"responses":{"200":{"description":"Resumo de notas recuperado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"numero":{"type":"string","example":"ENT-2025-000014"},"tipo":{"type":"string","enum":["ENTRADA","TRANSFERENCIA","DESCARTE","AJUSTE"]},"status":{"type":"string","enum":["RASCUNHO","CONCLUIDA","CANCELADA"]},"responsavel_nome":{"type":"string","example":"Administrador Sistema"},"almoxarifado_nome":{"type":"string","example":"Almoxarifado RJ"},"total_itens":{"type":"number","example":5},"valor_total":{"type":"number","nullable":true,"example":1250},"data_documento":{"type":"string","format":"date","example":"2025-07-07"},"observacoes":{"type":"string","nullable":true,"example":"Compra de EPIs"}}}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"},"hasNext":{"type":"boolean"},"hasPrev":{"type":"boolean"}}}}}}}}},"security":[{"bearer":[]}],"summary":"Resumo de notas de movimentação","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/rascunhos":{"get":{"description":"Lista apenas as notas no status RASCUNHO do usuário atual","operationId":"NotasMovimentacaoController_listarRascunhos","parameters":[],"responses":{"200":{"description":"Rascunhos recuperados com sucesso"}},"security":[{"bearer":[]}],"summary":"Listar notas em rascunho","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/{id}":{"get":{"description":"Retorna os detalhes completos de uma nota, incluindo itens","operationId":"NotasMovimentacaoController_obterNota","parameters":[{"name":"id","required":true,"in":"path","description":"ID da nota","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Nota encontrada"},"404":{"description":"Nota não encontrada"}},"security":[{"bearer":[]}],"summary":"Buscar nota por ID","tags":["notas-movimentacao"]},"put":{"description":"Atualiza apenas as observações de uma nota em rascunho","operationId":"NotasMovimentacaoController_atualizarNota","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Nota atualizada com sucesso"},"400":{"description":"Nota não está em rascunho"},"404":{"description":"Nota não encontrada"}},"security":[{"bearer":[]}],"summary":"Atualizar observações da nota","tags":["notas-movimentacao"]},"delete":{"description":"Exclui uma nota que está no status RASCUNHO","operationId":"NotasMovimentacaoController_excluirNota","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Nota excluída com sucesso"},"400":{"description":"Nota não pode ser excluída"},"404":{"description":"Nota não encontrada"}},"security":[{"bearer":[]}],"summary":"Excluir nota em rascunho","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/{id}/itens":{"post":{"description":"Adiciona um novo item a uma nota em rascunho","operationId":"NotasMovimentacaoController_adicionarItem","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"201":{"description":"Item adicionado com sucesso"},"400":{"description":"Dados inválidos ou nota não editável"},"409":{"description":"Tipo de EPI já adicionado na nota"}},"security":[{"bearer":[]}],"summary":"Adicionar item à nota","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/{id}/itens/{tipoEpiId}":{"put":{"description":"Atualiza a quantidade de um item específico na nota","operationId":"NotasMovimentacaoController_atualizarQuantidadeItem","parameters":[{"name":"id","required":true,"in":"path","description":"ID da nota","schema":{"format":"uuid","type":"string"}},{"name":"tipoEpiId","required":true,"in":"path","description":"ID do tipo de EPI","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Quantidade atualizada com sucesso"}},"security":[{"bearer":[]}],"summary":"Atualizar quantidade do item","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/{id}/itens/{itemId}":{"delete":{"description":"Remove um item específico de uma nota em rascunho","operationId":"NotasMovimentacaoController_removerItem","parameters":[{"name":"id","required":true,"in":"path","description":"ID da nota","schema":{"format":"uuid","type":"string"}},{"name":"itemId","required":true,"in":"path","description":"ID do item","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Item removido com sucesso"}},"security":[{"bearer":[]}],"summary":"Remover item da nota","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/{id}/concluir":{"post":{"description":"Processa uma nota em rascunho, criando movimentações e atualizando estoque","operationId":"NotasMovimentacaoController_concluirNota","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Nota concluída com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"notaConcluida":{"type":"object"},"movimentacoesCriadas":{"type":"array"},"itensProcessados":{"type":"array"}}}}}}}},"400":{"description":"Nota não pode ser concluída ou estoque insuficiente"}},"security":[{"bearer":[]}],"summary":"Concluir nota de movimentação","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/{id}/cancelar":{"post":{"description":"Cancela uma nota, gerando estornos se necessário","operationId":"NotasMovimentacaoController_cancelarNota","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Nota cancelada com sucesso"},"400":{"description":"Nota não pode ser cancelada"}},"security":[{"bearer":[]}],"summary":"Cancelar nota de movimentação","tags":["notas-movimentacao"]}},"/api/notas-movimentacao/{id}/validar-cancelamento":{"get":{"description":"Verifica se uma nota pode ser cancelada e retorna informações sobre o impacto","operationId":"NotasMovimentacaoController_validarCancelamento","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Validação realizada"}},"security":[{"bearer":[]}],"summary":"Validar se nota pode ser cancelada","tags":["notas-movimentacao"]}},"/api/tipos-epi":{"post":{"description":"Cria um novo tipo de EPI no catálogo do sistema","operationId":"TiposEpiController_criarTipoEpi","parameters":[],"requestBody":{"required":true,"description":"Dados do tipo de EPI a ser criado","content":{"application/json":{"schema":{"type":"object","properties":{"nomeEquipamento":{"type":"string","example":"Capacete de Segurança","description":"Nome do equipamento de proteção"},"numeroCa":{"type":"string","example":"CA-12345","description":"Número do Certificado de Aprovação"},"categoria":{"type":"string","enum":["PROTECAO_CABECA","PROTECAO_OLHOS_FACE","PROTECAO_AUDITIVA","PROTECAO_RESPIRATORIA","PROTECAO_MAOS_BRACOS","PROTECAO_PES_PERNAS","PROTECAO_TRONCO","PROTECAO_CORPO_INTEIRO","PROTECAO_QUEDAS"],"example":"PROTECAO_CABECA"},"descricao":{"type":"string","example":"Capacete de segurança em polietileno","description":"Descrição detalhada do equipamento"},"vidaUtilDias":{"type":"number","example":365,"description":"Vida útil em dias"},"status":{"type":"string","enum":["ATIVO","DESCONTINUADO"],"example":"ATIVO","default":"ATIVO"}},"required":["nomeEquipamento","numeroCa","categoria"]}}}},"responses":{"201":{"description":"Tipo de EPI criado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nomeEquipamento":{"type":"string"},"numeroCa":{"type":"string"},"categoria":{"type":"string"},"descricao":{"type":"string","nullable":true},"vidaUtilDias":{"type":"number","nullable":true},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"message":{"type":"string"}}}}}},"400":{"description":"Dados inválidos"},"409":{"description":"Número CA já existe"}},"security":[{"bearer":[]}],"summary":"Criar novo tipo de EPI","tags":["tipos-epi"]},"get":{"description":"Lista todos os tipos de EPI com filtros opcionais e paginação","operationId":"TiposEpiController_listarTiposEpi","parameters":[{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10, máximo: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Número da página (padrão: 1)","schema":{"type":"number"}},{"name":"busca","required":false,"in":"query","description":"Buscar por nome do equipamento ou número CA","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filtrar por status do tipo de EPI","schema":{"enum":["ATIVO","DESCONTINUADO"],"type":"string"}},{"name":"categoria","required":false,"in":"query","description":"Filtrar por categoria de proteção","schema":{"enum":["PROTECAO_CABECA","PROTECAO_OLHOS_FACE","PROTECAO_AUDITIVA","PROTECAO_RESPIRATORIA","PROTECAO_MAOS_BRACOS","PROTECAO_PES_PERNAS","PROTECAO_TRONCO","PROTECAO_CORPO_INTEIRO","PROTECAO_QUEDAS"],"type":"string"}},{"name":"ativo","required":false,"in":"query","description":"Filtrar por status ativo (true) ou inativo (false)","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Lista de tipos de EPI retornada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nomeEquipamento":{"type":"string"},"numeroCa":{"type":"string"},"categoria":{"type":"string"},"descricao":{"type":"string","nullable":true},"vidaUtilDias":{"type":"number","nullable":true},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"},"hasNextPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"}}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Listar tipos de EPI","tags":["tipos-epi"]}},"/api/tipos-epi/{id}":{"get":{"description":"Retorna os detalhes de um tipo de EPI específico","operationId":"TiposEpiController_obterTipoEpi","parameters":[{"name":"id","required":true,"in":"path","description":"ID do tipo de EPI","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Tipo de EPI encontrado","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nomeEquipamento":{"type":"string"},"numeroCa":{"type":"string"},"categoria":{"type":"string"},"descricao":{"type":"string","nullable":true},"vidaUtilDias":{"type":"number","nullable":true},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"404":{"description":"Tipo de EPI não encontrado"}},"security":[{"bearer":[]}],"summary":"Obter tipo de EPI por ID","tags":["tipos-epi"]},"put":{"description":"Atualiza completamente um tipo de EPI existente","operationId":"TiposEpiController_atualizarTipoEpi","parameters":[{"name":"id","required":true,"in":"path","description":"ID do tipo de EPI","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":true,"description":"Dados atualizados do tipo de EPI","content":{"application/json":{"schema":{"type":"object","properties":{"nomeEquipamento":{"type":"string","example":"Capacete de Segurança Atualizado"},"numeroCa":{"type":"string","example":"CA-54321"},"categoria":{"type":"string","example":"PROTECAO_CABECA"},"descricao":{"type":"string","example":"Descrição atualizada"},"vidaUtilDias":{"type":"number","example":730},"status":{"type":"string","enum":["ATIVO","DESCONTINUADO"]}}}}}},"responses":{"200":{"description":"Tipo de EPI atualizado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nomeEquipamento":{"type":"string"},"numeroCa":{"type":"string"},"categoria":{"type":"string"},"descricao":{"type":"string","nullable":true},"vidaUtilDias":{"type":"number","nullable":true},"status":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"message":{"type":"string"}}}}}},"400":{"description":"Dados inválidos"},"404":{"description":"Tipo de EPI não encontrado"},"409":{"description":"Número CA já existe"}},"security":[{"bearer":[]}],"summary":"Atualizar tipo de EPI","tags":["tipos-epi"]}},"/api/tipos-epi/{id}/ativar":{"patch":{"description":"Ativa um tipo de EPI descontinuado","operationId":"TiposEpiController_ativarTipoEpi","parameters":[{"name":"id","required":true,"in":"path","description":"ID do tipo de EPI","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":false,"description":"Dados opcionais para ativação","content":{"application/json":{"schema":{"type":"object","properties":{"motivo":{"type":"string","example":"Tipo de EPI reativado por necessidade operacional","description":"Motivo da ativação"}}}}}},"responses":{"200":{"description":"Tipo de EPI ativado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nomeEquipamento":{"type":"string"},"numeroCa":{"type":"string"},"categoria":{"type":"string"},"descricao":{"type":"string","nullable":true},"vidaUtilDias":{"type":"number","nullable":true},"status":{"type":"string","example":"ATIVO"},"createdAt":{"type":"string","format":"date-time"}}},"message":{"type":"string"}}}}}},"404":{"description":"Tipo de EPI não encontrado"}},"security":[{"bearer":[]}],"summary":"Ativar tipo de EPI","tags":["tipos-epi"]}},"/api/tipos-epi/{id}/inativar":{"patch":{"description":"Inativa um tipo de EPI, descontinuando seu uso","operationId":"TiposEpiController_inativarTipoEpi","parameters":[{"name":"id","required":true,"in":"path","description":"ID do tipo de EPI","schema":{"format":"uuid","type":"string"}}],"requestBody":{"required":false,"description":"Dados opcionais para inativação","content":{"application/json":{"schema":{"type":"object","properties":{"motivo":{"type":"string","example":"Tipo de EPI descontinuado pelo fabricante","description":"Motivo da inativação"}}}}}},"responses":{"200":{"description":"Tipo de EPI inativado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nomeEquipamento":{"type":"string"},"numeroCa":{"type":"string"},"categoria":{"type":"string"},"descricao":{"type":"string","nullable":true},"vidaUtilDias":{"type":"number","nullable":true},"status":{"type":"string","example":"DESCONTINUADO"},"createdAt":{"type":"string","format":"date-time"}}},"message":{"type":"string"}}}}}},"400":{"description":"Não é possível inativar: existe estoque para este tipo de EPI"},"404":{"description":"Tipo de EPI não encontrado"}},"security":[{"bearer":[]}],"summary":"Inativar tipo de EPI","tags":["tipos-epi"]}},"/api/tipos-epi/{id}/estatisticas":{"get":{"description":"Retorna estatísticas detalhadas sobre um tipo de EPI específico","operationId":"TiposEpiController_obterEstatisticasTipoEpi","parameters":[{"name":"id","required":true,"in":"path","description":"ID do tipo de EPI","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Estatísticas do tipo de EPI","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"totalFichas":{"type":"number","example":0},"fichasAtivas":{"type":"number","example":0},"totalEstoque":{"type":"number","example":25},"estoqueDisponivel":{"type":"number","example":20},"totalEntregas":{"type":"number","example":15},"entregasAtivas":{"type":"number","example":5}}}}}}}},"404":{"description":"Tipo de EPI não encontrado"}},"security":[{"bearer":[]}],"summary":"Estatísticas do tipo de EPI","tags":["tipos-epi"]}},"/api/tipos-epi/estatisticas/por-categoria":{"get":{"description":"Retorna estatísticas agrupadas por categoria de EPI","operationId":"TiposEpiController_obterEstatisticasPorCategoria","parameters":[],"responses":{"200":{"description":"Estatísticas por categoria de EPI","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"categoria":{"type":"string","example":"PROTECAO_CABECA"},"tiposAtivos":{"type":"number","example":5},"estoqueDisponivel":{"type":"number","example":120},"totalItens":{"type":"number","example":150}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Estatísticas por categoria","tags":["tipos-epi"]}},"/api/configuracoes":{"get":{"description":"Lista todas as configurações do sistema com seus valores atuais","operationId":"ConfiguracoesController_listarConfiguracoes","parameters":[],"responses":{"200":{"description":"Lista de configurações retornada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"chave":{"type":"string","enum":["PERMITIR_ESTOQUE_NEGATIVO","PERMITIR_AJUSTES_FORCADOS","ESTOQUE_MINIMO_EQUIPAMENTO"],"example":"PERMITIR_ESTOQUE_NEGATIVO"},"valor":{"type":"string","example":"false"},"valorParsed":{"oneOf":[{"type":"boolean"},{"type":"number"},{"type":"string"}],"example":false},"tipo":{"type":"string","enum":["BOOLEAN","NUMBER","STRING"],"example":"BOOLEAN"},"descricao":{"type":"string","nullable":true,"example":"Permite que o estoque fique negativo durante operações"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time","nullable":true}}}},"message":{"type":"string","example":"Configurações listadas com sucesso"}}}}}}},"security":[{"bearer":[]}],"summary":"Listar todas as configurações","tags":["configuracoes"]}},"/api/configuracoes/status":{"get":{"description":"Retorna o status atual das principais configurações do sistema","operationId":"ConfiguracoesController_obterStatusSistema","parameters":[],"responses":{"200":{"description":"Status do sistema retornado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"configuracoes":{"type":"object","properties":{"permitirEstoqueNegativo":{"type":"boolean","example":false},"permitirAjustesForcados":{"type":"boolean","example":false},"estoqueMinimoEquipamento":{"type":"number","example":10}}},"versao":{"type":"string","example":"3.5.5"},"ambiente":{"type":"string","example":"production"},"timestamp":{"type":"string","format":"date-time"}}}}}}}}},"security":[{"bearer":[]}],"summary":"Obter status do sistema","tags":["configuracoes"]}},"/api/configuracoes/{chave}":{"get":{"description":"Retorna os detalhes de uma configuração específica","operationId":"ConfiguracoesController_obterConfiguracao","parameters":[{"name":"chave","required":true,"in":"path","description":"Chave da configuração","schema":{"enum":["PERMITIR_ESTOQUE_NEGATIVO","PERMITIR_AJUSTES_FORCADOS","ESTOQUE_MINIMO_EQUIPAMENTO"],"type":"string"}}],"responses":{"200":{"description":"Configuração encontrada","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"chave":{"type":"string","example":"PERMITIR_ESTOQUE_NEGATIVO"},"valor":{"type":"string","example":"false"},"valorParsed":{"type":"boolean","example":false},"tipo":{"type":"string","example":"BOOLEAN"},"descricao":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time","nullable":true}}}}}}}},"400":{"description":"Chave de configuração inválida"}},"security":[{"bearer":[]}],"summary":"Obter configuração específica","tags":["configuracoes"]},"put":{"description":"Atualiza o valor de uma configuração específica","operationId":"ConfiguracoesController_atualizarConfiguracao","parameters":[{"name":"chave","required":true,"in":"path","description":"Chave da configuração","schema":{"enum":["PERMITIR_ESTOQUE_NEGATIVO","PERMITIR_AJUSTES_FORCADOS","ESTOQUE_MINIMO_EQUIPAMENTO"],"type":"string"}}],"requestBody":{"required":true,"description":"Dados da configuração a ser atualizada","content":{"application/json":{"schema":{"type":"object","properties":{"valor":{"type":"string","description":"Valor da configuração (string, será convertido conforme o tipo)","example":"true"},"descricao":{"type":"string","description":"Descrição opcional da configuração","example":"Permite estoque negativo para operações emergenciais"}},"required":["valor"]}}}},"responses":{"200":{"description":"Configuração atualizada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"configuracao":{"type":"object","properties":{"chave":{"type":"string","example":"PERMITIR_ESTOQUE_NEGATIVO"},"valor":{"type":"string","example":"true"},"valorParsed":{"type":"boolean","example":true},"tipo":{"type":"string","example":"BOOLEAN"},"descricao":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"valorAnterior":{"type":"string","example":"false"}}},"message":{"type":"string","example":"Configuração atualizada com sucesso"}}}}}},"400":{"description":"Dados inválidos ou valor incompatível com o tipo"}},"security":[{"bearer":[]}],"summary":"Atualizar configuração","tags":["configuracoes"]}},"/api/configuracoes/{chave}/boolean":{"patch":{"description":"Atualiza uma configuração booleana de forma simplificada","operationId":"ConfiguracoesController_atualizarConfiguracaoBoolean","parameters":[{"name":"chave","required":true,"in":"path","description":"Chave da configuração booleana","schema":{"enum":["PERMITIR_ESTOQUE_NEGATIVO","PERMITIR_AJUSTES_FORCADOS"],"type":"string"}}],"requestBody":{"required":true,"description":"Valor booleano da configuração","content":{"application/json":{"schema":{"type":"object","properties":{"ativo":{"type":"boolean","description":"Valor booleano da configuração","example":true},"descricao":{"type":"string","description":"Descrição opcional da configuração","example":"Habilitado para operações emergenciais"}},"required":["ativo"]}}}},"responses":{"200":{"description":"Configuração booleana atualizada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"configuracao":{"type":"object","properties":{"chave":{"type":"string","example":"PERMITIR_ESTOQUE_NEGATIVO"},"valor":{"type":"string","example":"true"},"valorParsed":{"type":"boolean","example":true},"tipo":{"type":"string","example":"BOOLEAN"},"descricao":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"valorAnterior":{"type":"string","example":"false"}}},"message":{"type":"string","example":"Configuração atualizada com sucesso"}}}}}},"400":{"description":"Configuração não é do tipo booleano"}},"security":[{"bearer":[]}],"summary":"Atualizar configuração booleana","tags":["configuracoes"]}},"/api/configuracoes/{chave}/number":{"patch":{"description":"Atualiza uma configuração numérica de forma simplificada","operationId":"ConfiguracoesController_atualizarConfiguracaoNumerica","parameters":[{"name":"chave","required":true,"in":"path","description":"Chave da configuração numérica","schema":{"enum":["ESTOQUE_MINIMO_EQUIPAMENTO"],"type":"string"}}],"requestBody":{"required":true,"description":"Valor numérico da configuração","content":{"application/json":{"schema":{"type":"object","properties":{"valor":{"type":"number","description":"Valor numérico da configuração","example":15,"minimum":0,"maximum":999999},"descricao":{"type":"string","description":"Descrição opcional da configuração","example":"Estoque mínimo ajustado para operação sazonal"}},"required":["valor"]}}}},"responses":{"200":{"description":"Configuração numérica atualizada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"configuracao":{"type":"object","properties":{"chave":{"type":"string","example":"ESTOQUE_MINIMO_EQUIPAMENTO"},"valor":{"type":"string","example":"15"},"valorParsed":{"type":"number","example":15},"tipo":{"type":"string","example":"NUMBER"},"descricao":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"valorAnterior":{"type":"string","example":"10"}}},"message":{"type":"string","example":"Configuração atualizada com sucesso"}}}}}},"400":{"description":"Configuração não é do tipo numérico ou valor inválido"}},"security":[{"bearer":[]}],"summary":"Atualizar configuração numérica","tags":["configuracoes"]}},"/api/configuracoes/batch":{"post":{"description":"Atualiza várias configurações em uma única operação","operationId":"ConfiguracoesController_atualizarConfiguracoesLote","parameters":[],"requestBody":{"required":true,"description":"Lista de configurações a serem atualizadas","content":{"application/json":{"schema":{"type":"object","properties":{"configuracoes":{"type":"array","items":{"type":"object","properties":{"chave":{"type":"string","enum":["PERMITIR_ESTOQUE_NEGATIVO","PERMITIR_AJUSTES_FORCADOS","ESTOQUE_MINIMO_EQUIPAMENTO"],"example":"PERMITIR_ESTOQUE_NEGATIVO"},"valor":{"type":"string","example":"true"},"descricao":{"type":"string","example":"Configuração atualizada em lote"}},"required":["chave","valor"]},"minItems":1,"maxItems":10}},"required":["configuracoes"]}}}},"responses":{"200":{"description":"Configurações atualizadas (parcial ou totalmente)","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"configuracoes":{"type":"array","items":{"type":"object","properties":{"chave":{"type":"string"},"valor":{"type":"string"},"valorParsed":{"oneOf":[{"type":"boolean"},{"type":"number"},{"type":"string"}]},"tipo":{"type":"string"},"descricao":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"totalAtualizadas":{"type":"number","example":2},"falhas":{"type":"array","items":{"type":"object","properties":{"chave":{"type":"string"},"erro":{"type":"string"}}}}}},"message":{"type":"string","example":"Configurações atualizadas em lote"}}}}}},"400":{"description":"Dados inválidos na requisição"}},"security":[{"bearer":[]}],"summary":"Atualizar múltiplas configurações","tags":["configuracoes"]}},"/api/configuracoes/reset":{"post":{"description":"Reseta todas as configurações para seus valores padrão do sistema","operationId":"ConfiguracoesController_resetarConfiguracoes","parameters":[],"responses":{"200":{"description":"Configurações resetadas com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"chave":{"type":"string"},"valor":{"type":"string"},"valorParsed":{"oneOf":[{"type":"boolean"},{"type":"number"},{"type":"string"}]},"tipo":{"type":"string"},"descricao":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"message":{"type":"string","example":"Configurações resetadas para valores padrão"}}}}}}},"security":[{"bearer":[]}],"summary":"Resetar configurações para valores padrão","tags":["configuracoes"]}},"/api/usuarios":{"get":{"description":"Lista usuários do sistema com paginação e filtros opcionais por nome e email","operationId":"UsuariosController_listarUsuarios","parameters":[{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 50, máximo: 100)","schema":{}},{"name":"page","required":false,"in":"query","description":"Número da página (padrão: 1)","schema":{}},{"name":"email","required":false,"in":"query","description":"Filtro por email (busca parcial case-insensitive)","schema":{}},{"name":"nome","required":false,"in":"query","description":"Filtro por nome (busca parcial case-insensitive)","schema":{}}],"responses":{"200":{"description":"Lista de usuários retornada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"email":{"type":"string","format":"email"},"createdAt":{"type":"string","format":"date-time"}}}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"}}}}}}}}},"summary":"Listar usuários","tags":["Usuários"]}},"/api/usuarios/{id}":{"get":{"description":"Retorna as informações de um usuário específico pelo seu ID","operationId":"UsuariosController_obterUsuario","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usuário","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Usuário encontrado","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"email":{"type":"string","format":"email"},"createdAt":{"type":"string","format":"date-time"}}}}}},"404":{"description":"Usuário não encontrado"}},"summary":"Obter usuário por ID","tags":["Usuários"]}},"/api/colaboradores":{"post":{"description":"Cria um novo colaborador vinculado a uma contratada","operationId":"ColaboradoresController_criarColaborador","parameters":[],"responses":{"201":{"description":"Colaborador criado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string","example":"João da Silva"},"cpf":{"type":"string","example":"12345678901"},"cpfFormatado":{"type":"string","example":"123.456.789-01"},"matricula":{"type":"string","nullable":true,"example":"MAT001"},"cargo":{"type":"string","nullable":true,"example":"Técnico"},"setor":{"type":"string","nullable":true,"example":"Manutenção"},"ativo":{"type":"boolean","example":true},"contratadaId":{"type":"string","format":"uuid"},"unidadeNegocioId":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"contratada":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string","example":"Empresa Contratada LTDA"},"cnpj":{"type":"string","example":"12345678000190"}}}}}}}}}},"400":{"description":"Dados inválidos"},"404":{"description":"Contratada não encontrada"},"409":{"description":"CPF já cadastrado"}},"summary":"Criar novo colaborador","tags":["colaboradores"]},"get":{"description":"Lista colaboradores com filtros opcionais e paginação","operationId":"ColaboradoresController_listarColaboradores","parameters":[{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}},{"name":"ativo","required":false,"in":"query","description":"Filtrar por status ativo","schema":{"type":"boolean"}},{"name":"setor","required":false,"in":"query","description":"Filtrar por setor","schema":{"type":"string"}},{"name":"cargo","required":false,"in":"query","description":"Filtrar por cargo","schema":{"type":"string"}},{"name":"contratadaId","required":false,"in":"query","description":"Filtrar por contratada","schema":{"type":"string"}},{"name":"cpf","required":false,"in":"query","description":"Filtrar por CPF","schema":{"type":"string"}},{"name":"nome","required":false,"in":"query","description":"Filtrar por nome","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de colaboradores recuperada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cpf":{"type":"string"},"cpfFormatado":{"type":"string"},"matricula":{"type":"string","nullable":true},"cargo":{"type":"string","nullable":true},"setor":{"type":"string","nullable":true},"ativo":{"type":"boolean"},"contratada":{"type":"object","properties":{"nome":{"type":"string"},"cnpj":{"type":"string"}}}}}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"total":{"type":"number"},"totalPages":{"type":"number"},"hasNext":{"type":"boolean"},"hasPrev":{"type":"boolean"}}}}}}}}},"summary":"Listar colaboradores","tags":["colaboradores"]}},"/api/colaboradores/{id}":{"get":{"description":"Retorna os detalhes de um colaborador específico","operationId":"ColaboradoresController_obterColaborador","parameters":[{"name":"id","required":true,"in":"path","description":"ID do colaborador (UUID)","schema":{"type":"string"}}],"responses":{"200":{"description":"Colaborador encontrado","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cpf":{"type":"string"},"cpfFormatado":{"type":"string"},"matricula":{"type":"string","nullable":true},"cargo":{"type":"string","nullable":true},"setor":{"type":"string","nullable":true},"ativo":{"type":"boolean"},"contratada":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cnpj":{"type":"string"}}}}}}}}}},"404":{"description":"Colaborador não encontrado"}},"summary":"Obter colaborador por ID","tags":["colaboradores"]}},"/api/entregas/create-complete":{"post":{"description":"Cria uma entrega com processamento completo no backend: expande quantidades em itens individuais, gera IDs únicos, calcula datas de vencimento e atualiza estoque automaticamente","operationId":"EntregasOtimizadasController_criarEntregaCompleta","parameters":[],"responses":{"201":{"description":"Entrega criada com sucesso com itens individuais","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"entregaId":{"type":"string","format":"uuid"},"itensIndividuais":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"ID individual gerado pelo backend"},"nomeEquipamento":{"type":"string"},"numeroCA":{"type":"string"},"dataLimiteDevolucao":{"type":"string","format":"date","nullable":true,"description":"Calculado pelo backend"}}}},"totalItens":{"type":"number","description":"Total de itens individuais criados"},"statusEntrega":{"type":"string","enum":["pendente_assinatura","assinada","cancelada"]}}},"message":{"type":"string"}}}}}},"400":{"description":"Dados inválidos ou estoque insuficiente"},"404":{"description":"Ficha ou responsável não encontrado"}},"security":[{"bearer":[]}],"summary":"Criar entrega completa otimizada (Frontend Optimized)","tags":["entregas-otimizadas"]}},"/api/devolucoes/process-batch":{"post":{"description":"Processa múltiplas devoluções simultaneamente com atualização automática de estoque e histórico","operationId":"DevolucoesOtimizadasController_processarDevolucoesBatch","parameters":[],"responses":{"200":{"description":"Devoluções processadas com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"processadas":{"type":"number","description":"Número de devoluções processadas com sucesso"},"erros":{"type":"array","items":{"type":"string"},"description":"Lista de erros encontrados durante o processamento"},"fichasAtualizadas":{"type":"array","items":{"type":"string","format":"uuid"},"description":"IDs das fichas que foram atualizadas"},"estoqueAtualizado":{"type":"boolean","description":"Indica se o estoque foi atualizado"}}},"message":{"type":"string"}}}}}},"400":{"description":"Dados inválidos"}},"security":[{"bearer":[]}],"summary":"Processar devoluções em lote (Frontend Optimized)","tags":["devolucoes-otimizadas"]}},"/api/fichas-epi/{id}/complete":{"get":{"description":"Obtém todos os dados de uma ficha em uma única chamada com estatísticas e status calculados no backend","operationId":"FichasController_obterFichaCompleta","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Ficha completa com dados otimizados","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"ficha":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["ativa","inativa","vencida","pendente_devolucao"],"description":"Status calculado no backend"},"colaborador":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cpf":{"type":"string"},"matricula":{"type":"string","nullable":true},"cargo":{"type":"string","nullable":true},"empresa":{"type":"string","nullable":true}}}}},"equipamentosEmPosse":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nomeEquipamento":{"type":"string"},"numeroCA":{"type":"string"},"categoria":{"type":"string"},"dataEntrega":{"type":"string","format":"date"},"dataLimiteDevolucao":{"type":"string","format":"date","nullable":true},"statusVencimento":{"type":"string","enum":["dentro_prazo","vencendo","vencido"],"description":"Status de vencimento calculado no backend"},"diasParaVencimento":{"type":"number","description":"Dias para vencimento calculado no backend"},"podeDevolver":{"type":"boolean","description":"Lógica de negócio calculada no backend"},"entregaId":{"type":"string","format":"uuid"},"itemEntregaId":{"type":"string","format":"uuid"}}}},"historico":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"data":{"type":"string","format":"date-time"},"tipo":{"type":"string","enum":["entrega","devolucao","assinatura","cancelamento"]},"descricao":{"type":"string"},"responsavel":{"type":"string","nullable":true},"detalhes":{"type":"object","nullable":true}}}},"estatisticas":{"type":"object","properties":{"totalEpisAtivos":{"type":"number"},"totalEpisVencidos":{"type":"number"},"proximoVencimento":{"type":"string","nullable":true},"diasProximoVencimento":{"type":"number","nullable":true}}}}}}}}}},"404":{"description":"Ficha não encontrada"}},"security":[{"bearer":[]}],"summary":"Obter ficha completa otimizada (Frontend Optimized)","tags":["fichas-epi"]}},"/api/fichas-epi/list-enhanced":{"get":{"description":"Lista fichas com dados pré-processados e estatísticas calculadas no backend para reduzir complexidade do frontend","operationId":"FichasController_listarFichasEnhanced","parameters":[{"name":"vencimentoProximo","required":false,"in":"query","description":"Filtrar fichas com vencimento próximo (30 dias)","schema":{"type":"boolean"}},{"name":"empresa","required":false,"in":"query","description":"Filtro por empresa","schema":{"type":"string"}},{"name":"cargo","required":false,"in":"query","description":"Filtro por cargo","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"enum":["ativa","inativa","vencida","pendente_devolucao"],"type":"string"}},{"name":"search","required":false,"in":"query","description":"Busca por nome ou matrícula","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 20, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}}],"responses":{"200":{"description":"Lista otimizada de fichas com dados pré-processados","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"colaborador":{"type":"object","properties":{"nome":{"type":"string"},"matricula":{"type":"string","nullable":true},"cargo":{"type":"string","nullable":true},"empresa":{"type":"string","nullable":true}}},"status":{"type":"string","enum":["ativa","inativa","vencida","pendente_devolucao"],"description":"Status calculado no backend"},"totalEpisAtivos":{"type":"number","description":"Total de EPIs ativos (pré-calculado)"},"totalEpisVencidos":{"type":"number","description":"Total de EPIs vencidos (pré-calculado)"},"proximoVencimento":{"type":"string","nullable":true,"description":"Data do próximo vencimento (pré-calculado)"},"ultimaAtualizacao":{"type":"string","format":"date-time"}}}},"pagination":{"type":"object","properties":{"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}}}}}}}}}}},"security":[{"bearer":[]}],"summary":"Listagem otimizada de fichas (Frontend Optimized)","tags":["fichas-epi"]}},"/api/relatorios/dashboard":{"get":{"description":"Retorna indicadores gerais, alertas e métricas para o painel principal","operationId":"DashboardController_obterDashboard","parameters":[{"name":"periodo","required":false,"in":"query","schema":{"enum":["ULTIMO_MES","ULTIMO_TRIMESTRE","ULTIMO_SEMESTRE","ULTIMO_ANO"],"type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"unidadeNegocioId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Dashboard carregado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"indicadoresGerais":{"type":"array"},"estoqueAlertas":{"type":"object"},"entregasRecentes":{"type":"object"},"vencimentosProximos":{"type":"object"},"episPorCategoria":{"type":"object"},"dataAtualizacao":{"type":"string","format":"date-time"}}}}}}}}},"security":[{"bearer":[]}],"summary":"Dashboard principal","tags":["relatorios"]}},"/api/relatorios/dashboard/estatisticas-entregas":{"get":{"description":"Retorna métricas específicas de entregas do período","operationId":"DashboardController_obterEstatisticasEntregas","parameters":[{"name":"periodo","required":false,"in":"query","schema":{"enum":["ULTIMO_MES","ULTIMO_TRIMESTRE","ULTIMO_SEMESTRE","ULTIMO_ANO"],"type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"unidadeNegocioId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Estatísticas de entregas obtidas"}},"security":[{"bearer":[]}],"summary":"Estatísticas de entregas para dashboard","tags":["relatorios"]}},"/api/relatorios/dashboard/vencimentos-proximos":{"get":{"description":"Retorna EPIs próximos ao vencimento","operationId":"DashboardController_obterVencimentosProximos","parameters":[{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"unidadeNegocioId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Vencimentos próximos obtidos"}},"security":[{"bearer":[]}],"summary":"Vencimentos próximos para dashboard","tags":["relatorios"]}},"/api/relatorios/descartes":{"get":{"description":"Lista todos os descartes de EPIs com filtros avançados e estatísticas","operationId":"RelatorioDescartesController_relatorioDescartes","parameters":[{"name":"responsavelId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"dataFim","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"contratadaId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"tipoEpiId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Relatório de descartes gerado com sucesso"}},"security":[{"bearer":[]}],"summary":"Relatório de descartes","tags":["relatorios"]}},"/api/relatorios/descartes/estatisticas":{"get":{"description":"Retorna estatísticas resumidas sobre descartes dos últimos 30 dias","operationId":"RelatorioDescartesController_estatisticasDescartes","parameters":[],"responses":{"200":{"description":"Estatísticas de descartes obtidas com sucesso"}},"security":[{"bearer":[]}],"summary":"Estatísticas de descartes","tags":["relatorios"]}},"/api/relatorios/saude":{"get":{"description":"Monitora o status geral do sistema, alertas e performance","operationId":"RelatorioSaudeController_obterSaudeSistema","parameters":[{"name":"incluirPerformance","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"incluirEstatisticas","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"incluirAlertas","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Status do sistema obtido"}},"security":[{"bearer":[]}],"summary":"Saúde do sistema","tags":["relatorios"]}},"/api/relatorios/movimentacoes":{"get":{"description":"Lista todas as movimentações de estoque com filtros detalhados para auditoria","operationId":"RelatorioMovimentacoesController_relatorioMovimentacoes","parameters":[{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}},{"name":"dataFim","required":false,"in":"query","description":"Data final do período","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","description":"Data inicial do período","schema":{"format":"date","type":"string"}},{"name":"usuarioId","required":false,"in":"query","description":"Filtrar por responsável","schema":{"format":"uuid","type":"string"}},{"name":"tipoMovimentacao","required":false,"in":"query","description":"Filtrar por tipo de movimentação específico","schema":{"enum":["ENTRADA_NOTA","SAIDA_ENTREGA","ENTRADA_DEVOLUCAO","SAIDA_TRANSFERENCIA","ENTRADA_TRANSFERENCIA","SAIDA_DESCARTE","AJUSTE_POSITIVO","AJUSTE_NEGATIVO","ESTORNO_ENTRADA_NOTA","ESTORNO_SAIDA_ENTREGA","ESTORNO_ENTRADA_DEVOLUCAO","ESTORNO_SAIDA_DESCARTE","ESTORNO_SAIDA_TRANSFERENCIA","ESTORNO_ENTRADA_TRANSFERENCIA","ESTORNO_AJUSTE_POSITIVO","ESTORNO_AJUSTE_NEGATIVO"],"type":"string"}},{"name":"tipoEpiId","required":false,"in":"query","description":"Filtrar por tipo de EPI","schema":{"format":"uuid","type":"string"}},{"name":"almoxarifadoId","required":false,"in":"query","description":"Filtrar por almoxarifado","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Relatório de movimentações gerado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"movimentacoes":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"data":{"type":"string","format":"date-time"},"almoxarifadoNome":{"type":"string"},"tipoEpiNome":{"type":"string"},"tipoMovimentacao":{"type":"string"},"quantidade":{"type":"number"},"usuarioNome":{"type":"string"},"observacoes":{"type":"string"},"documento":{"type":"string"}}}},"resumo":{"type":"object","properties":{"totalMovimentacoes":{"type":"number"},"totalEntradas":{"type":"number"},"totalSaidas":{"type":"number"},"saldoInicialPeriodo":{"type":"number"},"saldoFinalPeriodo":{"type":"number"},"variacao":{"type":"number"}}},"dataGeracao":{"type":"string","format":"date-time"}}},"message":{"type":"string"}}}}}}},"security":[{"bearer":[]}],"summary":"Relatório de movimentações","tags":["relatorios"]}},"/api/fichas-epi":{"post":{"description":"Cria uma nova ficha de EPI para um colaborador específico","operationId":"FichasController_criarFicha","parameters":[],"responses":{"201":{"description":"Ficha criada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"colaboradorId":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["ATIVA","INATIVA"]}}}}}}}},"400":{"description":"Dados inválidos"},"409":{"description":"Ficha já existe para este colaborador"}},"security":[{"bearer":[]}],"summary":"Criar nova ficha de EPI","tags":["fichas-epi"]},"get":{"description":"Lista fichas com filtros e paginação","operationId":"FichasController_listarFichas","parameters":[{"name":"status","required":false,"in":"query","schema":{"enum":["ATIVA","INATIVA"],"type":"string"}},{"name":"colaboradorId","required":false,"in":"query","schema":{"format":"uuid","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10, máx: 100)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}}],"responses":{"200":{"description":"Lista de fichas obtida com sucesso"}},"security":[{"bearer":[]}],"summary":"Listar fichas de EPI","tags":["fichas-epi"]}},"/api/fichas-epi/criar-ou-ativar":{"post":{"description":"Cria uma nova ficha ou ativa uma ficha inativa existente","operationId":"FichasController_criarOuAtivarFicha","parameters":[],"responses":{"201":{"description":"Ficha criada ou ativada com sucesso"}},"security":[{"bearer":[]}],"summary":"Criar ficha ou ativar existente","tags":["fichas-epi"]}},"/api/fichas-epi/estatisticas":{"get":{"description":"Retorna estatísticas gerais das fichas de EPI","operationId":"FichasController_obterEstatisticas","parameters":[],"responses":{"200":{"description":"Estatísticas obtidas com sucesso"}},"security":[{"bearer":[]}],"summary":"Estatísticas de fichas","tags":["fichas-epi"]}},"/api/fichas-epi/historico-global":{"get":{"description":"Retorna histórico das devoluções de uma ficha específica","operationId":"DevolucoesController_obterHistoricoDevolucoes","parameters":[{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}},{"name":"dataFim","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"tipoEpiId","required":false,"in":"query","description":"ID do tipo de EPI","schema":{"type":"string"}},{"name":"colaboradorId","required":false,"in":"query","description":"ID do colaborador","schema":{"type":"string"}}],"responses":{"200":{"description":"Histórico global obtido com sucesso"}},"security":[{"bearer":[]}],"summary":"Histórico de devoluções da ficha","tags":["fichas-epi"]}},"/api/fichas-epi/{id}":{"get":{"description":"Obtém detalhes de uma ficha de EPI específica","operationId":"FichasController_obterFicha","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Ficha obtida com sucesso"},"404":{"description":"Ficha não encontrada"}},"security":[{"bearer":[]}],"summary":"Obter ficha específica","tags":["fichas-epi"]}},"/api/fichas-epi/{id}/ativar":{"put":{"description":"Ativa uma ficha de EPI inativa","operationId":"FichasController_ativarFicha","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Ficha ativada com sucesso"}},"security":[{"bearer":[]}],"summary":"Ativar ficha","tags":["fichas-epi"]}},"/api/fichas-epi/{id}/inativar":{"put":{"description":"Inativa uma ficha de EPI ativa","operationId":"FichasController_inativarFicha","parameters":[{"name":"id","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Ficha inativada com sucesso"}},"security":[{"bearer":[]}],"summary":"Inativar ficha","tags":["fichas-epi"]}},"/api/fichas-epi/{id}/historico":{"get":{"description":"Retorna o histórico completo de uma ficha de EPI incluindo criação, entregas, devoluções, cancelamentos e itens vencidos","operationId":"FichasController_obterHistoricoFicha","parameters":[{"name":"id","required":true,"in":"path","description":"ID da ficha EPI","schema":{"format":"uuid","type":"string"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 50)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}},{"name":"dataFim","required":false,"in":"query","description":"Data de fim do filtro","schema":{"format":"date-time","type":"string"}},{"name":"dataInicio","required":false,"in":"query","description":"Data de início do filtro","schema":{"format":"date-time","type":"string"}},{"name":"tipoAcao","required":false,"in":"query","schema":{"enum":["CRIACAO","ENTREGA","DEVOLUCAO","CANCELAMENTO","ALTERACAO_STATUS","ITEM_VENCIDO","EDICAO"],"type":"string"}}],"responses":{"200":{"description":"Histórico obtido com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"fichaId":{"type":"string","format":"uuid"},"colaborador":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"},"cpf":{"type":"string"},"matricula":{"type":"string","nullable":true}}},"historico":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"tipoAcao":{"type":"string","enum":["CRIACAO","ENTREGA","DEVOLUCAO","CANCELAMENTO","ALTERACAO_STATUS","ITEM_VENCIDO","EDICAO"]},"descricao":{"type":"string"},"dataAcao":{"type":"string","format":"date-time"},"responsavel":{"type":"object","nullable":true,"properties":{"id":{"type":"string","format":"uuid"},"nome":{"type":"string"}}},"detalhes":{"type":"object","nullable":true}}}},"estatisticas":{"type":"object","properties":{"totalEventos":{"type":"number"},"totalEntregas":{"type":"number"},"totalDevolucoes":{"type":"number"},"totalCancelamentos":{"type":"number"},"itensAtivos":{"type":"number"},"itensVencidos":{"type":"number"},"dataUltimaAtividade":{"type":"string","format":"date-time","nullable":true}}}}},"message":{"type":"string"}}}}}},"404":{"description":"Ficha não encontrada"}},"security":[{"bearer":[]}],"summary":"Obter histórico completo da ficha","tags":["fichas-epi"]}},"/api/fichas-epi/{fichaId}/entregas":{"post":{"description":"Cria uma nova entrega de itens de EPI para uma ficha específica","operationId":"EntregasController_criarEntrega","parameters":[{"name":"fichaId","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"201":{"description":"Entrega criada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"fichaEpiId":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["PENDENTE_ASSINATURA","ASSINADA","CANCELADA"]},"dataEntrega":{"type":"string","format":"date-time"},"itens":{"type":"array"}}}}}}}},"400":{"description":"Dados inválidos"},"404":{"description":"Ficha não encontrada"},"422":{"description":"Estoque insuficiente"}},"security":[{"bearer":[]}],"summary":"Criar nova entrega de EPIs","tags":["fichas-epi"]},"get":{"description":"Lista todas as entregas de uma ficha específica com filtros","operationId":"EntregasController_listarEntregas","parameters":[{"name":"fichaId","required":true,"in":"path","schema":{"format":"uuid","type":"string"}},{"name":"dataFim","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"dataInicio","required":false,"in":"query","schema":{"format":"date","type":"string"}},{"name":"status","required":false,"in":"query","schema":{"enum":["ATIVA","DEVOLVIDA_PARCIAL","DEVOLVIDA_TOTAL","CANCELADA"],"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Itens por página (padrão: 10)","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Página (padrão: 1)","schema":{"type":"number"}}],"responses":{"200":{"description":"Lista de entregas obtida com sucesso"},"404":{"description":"Ficha não encontrada"}},"security":[{"bearer":[]}],"summary":"Listar entregas de uma ficha","tags":["fichas-epi"]}},"/api/fichas-epi/entregas/{entregaId}/assinar":{"put":{"description":"Marca uma entrega como assinada, alterando seu status de PENDENTE_ASSINATURA para ASSINADA","operationId":"EntregasController_assinarEntrega","parameters":[{"name":"entregaId","required":true,"in":"path","description":"ID da entrega a ser assinada","schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Entrega assinada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"status":{"type":"string","example":"ASSINADA"},"dataAssinatura":{"type":"string","format":"date-time"},"assinaturaColaborador":{"type":"string","nullable":true},"observacoes":{"type":"string","nullable":true},"fichaEpiId":{"type":"string","format":"uuid"},"almoxarifadoId":{"type":"string","format":"uuid"},"responsavelId":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"message":{"type":"string","example":"Entrega assinada com sucesso"}}}}}},"400":{"description":"Dados inválidos ou entrega não pode ser assinada"},"404":{"description":"Entrega não encontrada"}},"security":[{"bearer":[]}],"summary":"Assinar entrega de EPI","tags":["fichas-epi"]}},"/api/fichas-epi/{fichaId}/devolucoes":{"post":{"description":"Processa a devolução de itens de EPI de uma ficha específica","operationId":"DevolucoesController_processarDevolucao","parameters":[{"name":"fichaId","required":true,"in":"path","schema":{"format":"uuid","type":"string"}}],"responses":{"201":{"description":"Devolução processada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"entregaId":{"type":"string","format":"uuid"},"itensDevolucao":{"type":"array"},"statusEntregaAtualizado":{"type":"string"},"dataProcessamento":{"type":"string","format":"date-time"}}}}}}}},"400":{"description":"Dados inválidos"},"404":{"description":"Ficha não encontrada"},"422":{"description":"Entrega não assinada ou item já devolvido"}},"security":[{"bearer":[]}],"summary":"Processar devolução de EPIs","tags":["fichas-epi"]}}},"info":{"title":"EPI Backend API","description":"Backend do Módulo de Gestão de EPIs v3.5 - API para gestão de equipamentos de proteção individual","version":"3.5.0","contact":{}},"tags":[{"name":"almoxarifados","description":"Gestão de almoxarifados"},{"name":"tipos-epi","description":"Gestão de tipos de EPI"},{"name":"colaboradores","description":"Gestão de colaboradores"},{"name":"notas-movimentacao","description":"Notas de movimentação de estoque"},{"name":"entregas","description":"Entregas de EPIs para colaboradores"},{"name":"devolucoes","description":"Devoluções de EPIs"},{"name":"estoque","description":"Consultas de estoque"},{"name":"fichas","description":"Fichas de colaboradores"},{"name":"relatorios","description":"Relatórios gerenciais"}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{}}}